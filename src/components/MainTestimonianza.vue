<script>
    export default{
        name: 'MainTestimonianza',
        data(){
            return{
                intervall:null,
                indexTestimonianza: 0,
                testimonianze:[
                    {
                        name:'Kenia Arjona Dorado',
                        date:'01/2023',
                        comment:'Roc√≠o es una estupenda preparadora, tiene muy buenos materiales, esquemas, te mantiene siempre actualizado, te motiva y apoya desde el principio hasta el final. No le importa explicarte 15 veces algo si lo necesitas. Hab√≠a estudiado algunos meses por libre, pero estos 7 meses con ella me han ayudado mucho a lograr la plaza. La recomiendo mucho.'
                    },
                    {
                        name:'Sandra Castanedo Fern√°ndez',
                        date:'01/2023',
                        comment:'Estoy s√∫per contenta con ellos. Roc√≠o explica muy bien y de forma clara. Los temas s√∫per completos (de los m√°s completos que he visto en varios a√±os), as√≠ como sus esquemas. Me he preparado la √∫ltima convocatoria con Roc√≠o y la verdad que no puedo estar m√°s satisfecha. Adem√°s las clases las puedes ver en diferido por si no puedes verla en directo, cosa que facilita mucho el estudio tambi√©n. En general su preparaci√≥n es muy completa: temas, esquemas, clases, supuestos pr√°cticos y web para hacer test.'
                    },
                    {
                        name:'Soraya Alc√°zar',
                        date:'04/2022',
                        comment:'Solo tengo buenas palabras para ellas. Empec√© con Roc√≠o estudiando para auxiliar administrativo de la junta y en menos de un a√±o, aprobada!! Aun no me lo creo. Luego contin√∫e estudiando administrativo para la AGE con Mar√≠a e igualmente aprobada!! Ambas son lo m√°s, super atentas, los esquemas, los v√≠deos y la forma de explicar es magn√≠fica. Estoy muy contentas con ellas, y seguir√© con ellas hasta sacarme mi plazaü§û las recomiendo porque a parte de ser un encanto, explican y reexplican hasta que se te queda grabado a fuego. Adem√°s, hacen mucho incapie en lo importante, y eso es algo que no muchas academias lo hacen de cara al examen. RECOMIENDO 100%'
                    }
                ],
            }
        },
        mounted(){
            this.autoScroll()
        },
        methods:{
            showNext(){
                this.blockAutoScroll()
                if(this.indexTestimonianza < this.testimonianze.length - 1){
                    this.indexTestimonianza++
                } else{
                    this.indexTestimonianza = 0
                }
                this.autoScroll()
            },
            showPrev(){
                this.blockAutoScroll()
                if(this.indexTestimonianza > 0){
                    this.indexTestimonianza--
                }else{
                    this.indexTestimonianza = this.testimonianze.length - 1
                }
                this.autoScroll()
            },
            autoScroll(){
                this.interval = setInterval(this.showNext, 15000)
            },
            blockAutoScroll(){
                clearInterval(this.interval)
            },          
        }
    }
</script>

<template>
   <section id="testimonials">
        <h2 class="text-center pt-3 mb-3">Ecco cosa ne pensano i nostri alunni</h2>
        <div class="carousel">
            <div class="carousel-inner mx-auto">
                <div class="carousel-item active" :class="{'active': indexTestimonianza}">
                    <p class="fs-6"> {{testimonianze[indexTestimonianza].comment}} </p>
                    <div class="ms_credit">
                        <p class="fs-6"> {{ testimonianze[indexTestimonianza].date }} </p>
                        <p class="fw-bold fs-6"> {{testimonianze[indexTestimonianza].name}} </p>
                    </div>
                </div>
            </div>
            <div class="prev" @click="showPrev()">
              <i class="fa-regular fa-circle-left fa-beat fa-lg"></i>
            </div>
            <div class="next" @click="showNext()">
              <i class="fa-regular fa-circle-right fa-beat fa-lg"></i>
            </div>
        </div>
    </section> 
</template>

<style lang="scss" scoped>
@use '../style/variables/mixins' as *;
.carousel-inner{
    width: 50%;
    height: 350px;
    @include flex(row,normal,center);
    .ms_credit{
        @include flex(row,space-between,center);
    }
}

.prev,
.next{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
}

.prev{
    left: 20%;
}
.next{
    right: 20%;
}
</style>